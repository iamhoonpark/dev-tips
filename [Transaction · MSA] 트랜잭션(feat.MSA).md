# Transaction

## 트랜잭션
 1. 이 글을 쓰는 이유
  - 기존 내가 담당하던 페이지에서 업체, 계약, 인원 정보를 04 서비스의 3개의 테이블에 INSERT 로직을 이미 제작했으나, 체크박스(Checkbox) 컴포넌트 기능이 추가되면서 04 서비스에 List 형식의 INSERT 가 필요했다.
  - 나는 같은 페이지 내부에 있지만, 한 기능은 VO, 다른 하나의 기능은 List 형식이었기 때문에 별개 API를 제작하려 했으나, 트랜잭션 처리 문제가 발생한다는 것을 깨달았다
 2. 트랜잭션(Transaction) 이란?
  - Client → Server → DB 를 통한 작업의 단위를 뜻한다.
  - 예를 들어, 게시판 글 작성 기능을 사용할 경우, 작성완료 버튼을 클릭할 경우 실행되는 로직이 하나의 트랜잭션이다.
  - 그래서, 계획했던 대로 두 개로 나눠서 저장할 경우 트랜잭션을 대체할 방법을 찾아야 하지만, 그 정도의 스킬이 현재로썬 없다. 따라서, 반드시 한 번에 INSERT 로직이 되어야 한다.
 3. 트랜잭션을 할 수 없는 MashUp
  - MashUp 은 애초에 서로 다른 서비스들을 합쳐서 제작되는 것이기에 트랜잭션 개념이 존재하지 않는다.
  - 예를 들어, 공공데이터, 버스 정보 데이터, 날씨 데이터를 MashUp 해서 하나의 창조물 즉, 버스 사용 패턴 데이터를 만드는 것을 MashUp 이라 한다.
  - 이것은 서로 다른 서비스들을 합쳐서 유동적으로 운영되는 것이기 때문에 트랜잭션이 불가능하여 다른 점, 대체점을 고려해야 한다.
 4. MSA(Micro Service Architecture)
  - 현재 내가 첫 개발 팀으로 투입 된 '통합출입관리시스템' 구축 프로젝트는 MSA 아키텍쳐를 도입해서 사용하고 있다.
  - 트랜잭션에 대해 작성하고 있는데, 왜 갑자기 MSA 관련해서 글을 작성할까?
  - MSA 는 MashUp 과 비슷한 형태이지만 또 다르다.
  - 서비스를 분할해서 만들고 필요 시, 그 서비스를 더 늘려서 많은 인원이 동시접속이 가능하게 한다.
  - 예를 들어, 게임의 동시 접속 몇십만명, 유튜브 몇천만명 이상 동시 접속이 가능한 이유가 이 아키텍쳐 때문이다.
  - MSA 는 이런 서비스들이 유동적으로 묶였다가 풀렸다가 다시 또 묶이면서 아키텍쳐 내부에서 다른 서비스들을 마치 MashUp 처럼 합친 것이다.
  - 즉, MashUp 이 여러개인 개념과 동일하다.
  - 아무튼! 본론으로 돌아가, MSA는 데이터 중복, 트랜잭션이 크게 중요하지 않다. 현재 개발팀 기준으로 04서비스와 02서비스 동시 INSERT 할 경우 트랜잭션이 전혀 필요하지 않다.
  - 왜냐하면, 서버에서 call 할 내용이 2개이다 보니, 트랜잭션이 무의미 하다.
  - 이 처럼 MSA 는 구현 자체를 늘린다. (=한 서비스를 공유해서 쓰는 것이 아닌, 서비스를 중복으로 여러개 만듬)
  - 그러나, 한 서비스에만 INSERT 하는 과정이라면 반드시 트랜잭션이 필요하다.